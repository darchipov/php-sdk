if("undefined"==typeof window.econda)var econda=window.econda={};
econda.debug={enabled:!1,setEnabled:function(b){this.enabled=b;return this},getEnabled:function(){return this.enabled},error:function(){for(var b=[],a=1;a<arguments.length;a++)b.push(arguments[a]);this.enabled&&("undefined"!=typeof console&&console.error)&&console.error(arguments[0],b);return this},warn:function(){for(var b=[],a=1;a<arguments.length;a++)b.push(arguments[a]);this.enabled&&("undefined"!=typeof console&&console.warn)&&console.warn(arguments[0],b);return this},log:function(){for(var b=
[],a=1;a<arguments.length;a++)b.push(arguments[a]);this.enabled&&("undefined"!=typeof console&&console.log)&&console.log(arguments[0],b);return this}};"undefined"==typeof window.econda&&(window.econda={},econda=window.econda);"undefined"==typeof window.econda.util&&(econda.util={});econda.util.EscapeHelper={entityMap:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},html:function(b){return String(b).replace(/[&<>"'\/]/g,function(a){return util.EscapeHelper.entityMap[a]})}};"undefined"==typeof window.econda&&(window.econda={},econda=window.econda);"undefined"==typeof window.econda.recengine&&(econda.recengine={});
econda.recengine.ContextCategory=function(b){this.variant=this.id=this.path=this.type=null;this.setType=function(a){this.type=a;return this};this.setId=function(a){this.id=a;return this};this.setVariant=function(a){this.variant=a;return this};this.setPath=function(a){"string"==typeof a&&(a={path:a,delimiter:"/"});"object"==typeof a&&"undefined"!=typeof a.path&&("undefined"==typeof a.delimiter&&(a.delimiter="/"),a=a.path.split(a.delimiter));this.path=a;return this};if("undefined"!=typeof b){if("object"!=
typeof b)throw"Invalid config object given for recommencation widget.";for(var a in b)this["set"+a.charAt(0).toUpperCase()+a.slice(1)](b[a])}};"undefined"==typeof window.econda&&(window.econda={},econda=window.econda);"undefined"==typeof window.econda.recengine&&(econda.recengine={});
econda.recengine.Context=function(b){this.category=this.productIds=null;this.setProductIds=function(a){!1==a instanceof Array&&(a=[a]);this.productIds=a;return this};this.setCategory=function(a){!1==a instanceof econda.recengine.ContextCategory&&(a=new econda.recengine.ContextCategory(a));this.category=a;return this};if("undefined"!=typeof b){if("object"!=typeof b)throw"Invalid config object given for recommencation widget.";for(var a in b)this["set"+a.charAt(0).toUpperCase()+a.slice(1)](b[a])}};"undefined"==typeof window.econda&&(window.econda={},econda=window.econda);"undefined"==typeof window.econda.recengine&&(econda.recengine={});
econda.recengine.Widget=function(b){var a=this;this.context=this.accountId=this.id=this.element=null;this.startIndex=0;this.rendererFn=this.rendererUri=this.chunkSize=null;this.setElement=function(a){this.element=a;return this};this.setId=function(a){this.id=a;return this};this.setAccountId=function(a){this.accountId=a;return this};this.setContext=function(a){!1==a instanceof econda.recengine.Context&&(a=new econda.recengine.Context(a));this.context=a;return this};this.setStartIndex=function(a){this.startIndex=
a;return this};this.setChunkSize=function(a){this.chunkSize=a;return this};this.setRendererUri=function(a){this.rendererUri=a;return this};this.setRendererFn=function(a){this.rendererFn=a;return this};this.toJson=function(){var a={},b={id:!0,accountId:!0,context:!0,startIndex:!0,chunkSize:!0},d;for(d in this)"undefined"!=typeof b[d]&&(b[d]&&null!=this[d])&&(a[d]=this[d]);return window.JSON.stringify(a)};this.render=function(){a.rendererUri?a._callRemoteRenderer():a._getDataFromCrossSellServer({success:a._renderDataResult})};
this._renderDataResult=function(b){if(!a.rendererFn)throw"Trying to render result but no template function set.";"undefined"==typeof b&&(b={});"undefined"==typeof b.products&&(b.products=b.items||[]);typeof b.startIndex&&(b.startIndex=b.start||0);b=a.rendererFn(b,a.element,econda.util.EscapeHelper);"undefined"!=typeof b&&b&&$(a.element).html(b)};this._getDataFromCrossSellServer=function(b){b=b||{};if("undefined"==typeof b)throw"Missing success callback configuration in getDataFromCrossSellServer.";
var b=new econda.widgets._Widget({wid:a.id,aid:a.accountId,handleData:b.success}),c=a._buildCsRequest();b._loadData(c)};this._buildCsRequest=function(){var b=a.context,c={type:"cs"};c.start=a.startIndex;a.chunkSize&&(c.csize=a.chunkSize);b.productIds&&(c.pid=window.JSON.stringify(b.productIds));b.category&&(c["ctxcat.ct"]=b.category.type,b.category.id&&(c["ctxcat.id"]=b.category.id),b.category.path&&(c["ctxcat.paa"]=b.category.path),b.category.variant&&(c["ctxcat.pv"]=b.category.variant));return c};
this._callRemoteRenderer=function(){var a=this,b;b=a.toJson();$.ajax({type:"POST",url:a.rendererUri,data:"data="+b,success:function(b){a.rendererFn?a._renderDataResult(b):$(a.element).html(b)}})};if("undefined"!=typeof b){if("object"!=typeof b)throw"Invalid config object given for recommendation widget.";for(var e in b){var f="set"+e.charAt(0).toUpperCase()+e.slice(1);if("undefined"==typeof a[f])throw"There's no setter function for property: "+e;a[f](b[e])}}};
econda.recengine.Widget.init=function(){if("object"==typeof window.csWidgets){var b=window.csWidgets;!1==b instanceof Array&&(b=[b]);for(var a=0;a<b.length;a++)!1==b[a]instanceof econda.recengine.Widget&&(b[a]=new econda.recengine.Widget(b[a]),b[a].render())}};$(document).ready(econda.recengine.Widget.init);
